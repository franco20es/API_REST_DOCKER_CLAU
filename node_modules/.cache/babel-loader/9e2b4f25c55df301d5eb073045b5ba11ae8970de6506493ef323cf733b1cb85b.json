{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\PROYECTO-DE-JS-PARCTICA-3\\\\sistema-facturacion\\\\src\\\\components\\\\VentasForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useClientes } from \"../hooks/useClientes\";\nimport { useFacturas } from \"../hooks/useFacturas\"; // ‚Üê IMPORTAR\nimport axios from \"axios\";\nimport \"./VentasForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VentasForm = ({\n  productos,\n  clientesRegistrados,\n  agregarFactura\n}) => {\n  _s();\n  // Estados para cliente o empresa\n  const [tipoCliente, setTipoCliente] = useState(\"persona\");\n  const [dni, setDni] = useState(\"\");\n  const [ruc, setRuc] = useState(\"\");\n  const [clienteSeleccionado, setClienteSeleccionado] = useState(null);\n  const [empresaSeleccionada, setEmpresaSeleccionada] = useState(null);\n  const {\n    buscarClientePorDNI,\n    buscarClienteEnBackend,\n    loading: loadingCliente\n  } = useClientes();\n  const [loadingEmpresa, setLoadingEmpresa] = useState(false);\n\n  // ‚Üê USAR EL HOOK DE FACTURAS\n  const {\n    guardarFactura,\n    generarNumeroComprobante,\n    loading: loadingFactura,\n    error: errorFactura\n  } = useFacturas();\n\n  // Estados para productos\n  const [codigoProducto, setCodigoProducto] = useState(\"\");\n  const [cantidadProducto, setCantidadProducto] = useState(1);\n  const [productosSeleccionados, setProductosSeleccionados] = useState([]);\n\n  // Estados para factura\n  const [metodoPago, setMetodoPago] = useState(\"efectivo\");\n  const [moneda, setMoneda] = useState(\"PEN\");\n  const [tipoCambio, setTipoCambio] = useState(null);\n\n  // Buscar cliente por DNI (primero en backend, luego en RENIEC)\n  const buscarCliente = async () => {\n    if (!dni) {\n      alert(\"Ingrese DNI del cliente\");\n      return;\n    }\n    const busqueda = dni.trim();\n\n    // Si tiene 8 d√≠gitos, buscar por DNI\n    if (busqueda.length === 8 && /^\\d+$/.test(busqueda)) {\n      try {\n        // ‚Üê Primero buscar en el backend (clientes registrados)\n        const clienteBackend = await buscarClienteEnBackend(busqueda);\n        if (clienteBackend && clienteBackend.length > 0) {\n          setClienteSeleccionado({\n            id_cliente: clienteBackend[0].id_cliente,\n            dni: clienteBackend[0].dni,\n            nombreCompleto: clienteBackend[0].nombre_completo,\n            apellidoPaterno: clienteBackend[0].apellido_paterno,\n            apellidoMaterno: clienteBackend[0].apellido_materno\n          });\n          return;\n        }\n\n        // Si no est√° en backend, buscar en RENIEC\n        const clienteData = await buscarClientePorDNI(busqueda);\n        alert(\"‚ö†Ô∏è Cliente encontrado en RENIEC pero no est√° registrado. Por favor reg√≠strelo primero en la secci√≥n 'Clientes'\");\n        setClienteSeleccionado(null);\n        return;\n      } catch (err) {\n        alert(\"‚ùå Cliente no encontrado. Debe registrarlo primero en la secci√≥n 'Clientes'\");\n        setClienteSeleccionado(null);\n      }\n    } else {\n      alert(\"El DNI debe tener 8 d√≠gitos\");\n    }\n  };\n\n  // Buscar empresa por RUC (SUNAT)\n  const buscarEmpresa = async () => {\n    if (!ruc || ruc.length !== 11) {\n      alert(\"Ingrese un RUC v√°lido (11 d√≠gitos)\");\n      return;\n    }\n    setLoadingEmpresa(true);\n    try {\n      const URL = `https://api.perudevs.com/api/v1/ruc/simple?document=${ruc}&key=cGVydWRldnMucHJvZHVjdGlvbi5maXRjb2RlcnMuNjhmMTkzNTcyZGZhMTIyNjA3ZTgzZTk5`;\n      const res = await axios.get(URL, {\n        timeout: 10000\n      });\n      if (res.data && res.data.estado && res.data.mensaje === \"Encontrado\" && res.data.resultado) {\n        const data = res.data.resultado;\n        setEmpresaSeleccionada({\n          ruc: data.ruc || ruc,\n          razonSocial: data.razon_social || data.nombre || 'No disponible',\n          direccion: data.direccion || '-',\n          estado: data.estado || 'ACTIVO'\n        });\n        alert(\"‚úÖ Empresa encontrada correctamente en SUNAT\");\n      } else {\n        alert(\"‚ùå No se encontraron datos de la empresa en SUNAT\");\n        setEmpresaSeleccionada(null);\n      }\n    } catch (err) {\n      console.error(\"Error:\", err);\n      alert(`‚ùå Error al consultar SUNAT: ${err.message}`);\n      setEmpresaSeleccionada(null);\n    } finally {\n      setLoadingEmpresa(false);\n    }\n  };\n\n  // Obtener tipo de cambio si es necesario\n  const obtenerTipoCambio = async () => {\n    if (moneda === \"USD\" && !tipoCambio) {\n      try {\n        const cambio = await axios.get(\"https://api.exchangerate.host/convert?from=USD&to=PEN&amount=1\");\n        setTipoCambio(cambio.data.result);\n        return cambio.data.result;\n      } catch (err) {\n        console.error(\"Error al obtener tipo de cambio:\", err);\n        alert(\"No se pudo obtener el tipo de cambio. Usando 3.80 por defecto\");\n        setTipoCambio(3.80);\n        return 3.80;\n      }\n    }\n    return tipoCambio || 1;\n  };\n\n  // Buscar y agregar producto\n  const agregarProducto = () => {\n    if (!codigoProducto) {\n      alert(\"Ingrese un c√≥digo de producto\");\n      return;\n    }\n    const producto = productos.find(p => String(p.id_producto).toLowerCase().includes(codigoProducto.toLowerCase()) || p.nombre.toLowerCase().includes(codigoProducto.toLowerCase()));\n    if (!producto) {\n      alert(\"Producto no encontrado\");\n      return;\n    }\n\n    // Verificar stock disponible\n    if (producto.cantidad < cantidadProducto) {\n      alert(`Stock insuficiente. Solo hay ${producto.cantidad} unidades disponibles`);\n      return;\n    }\n    const existe = productosSeleccionados.find(p => p.id_producto === producto.id_producto);\n    if (existe) {\n      alert(\"Este producto ya est√° agregado. Modifique la cantidad en la tabla.\");\n      return;\n    }\n    const productoConCantidad = {\n      ...producto,\n      cantidadVendida: parseInt(cantidadProducto),\n      subtotalProducto: producto.precio * parseInt(cantidadProducto)\n    };\n    setProductosSeleccionados([...productosSeleccionados, productoConCantidad]);\n    setCodigoProducto(\"\");\n    setCantidadProducto(1);\n  };\n\n  // Eliminar producto de la lista\n  const eliminarProducto = id_producto => {\n    setProductosSeleccionados(productosSeleccionados.filter(p => p.id_producto !== id_producto));\n  };\n\n  // Actualizar cantidad\n  const actualizarCantidad = (id_producto, nuevaCantidad) => {\n    if (nuevaCantidad < 1) return;\n\n    // Verificar stock\n    const producto = productos.find(p => p.id_producto === id_producto);\n    if (producto && nuevaCantidad > producto.cantidad) {\n      alert(`Stock insuficiente. Solo hay ${producto.cantidad} unidades disponibles`);\n      return;\n    }\n    setProductosSeleccionados(productosSeleccionados.map(p => p.id_producto === id_producto ? {\n      ...p,\n      cantidadVendida: parseInt(nuevaCantidad),\n      subtotalProducto: p.precio * parseInt(nuevaCantidad)\n    } : p));\n  };\n\n  // Calcular totales\n  const calcularSubtotal = () => {\n    return productosSeleccionados.reduce((total, p) => total + p.subtotalProducto, 0);\n  };\n  const calcularIGV = () => {\n    return calcularSubtotal() * 0.18;\n  };\n  const calcularTotal = () => {\n    return calcularSubtotal() + calcularIGV();\n  };\n\n  // ‚Üê GENERAR FACTURA Y GUARDAR EN BACKEND\n  const generarFacturaVenta = async () => {\n    // Validar que haya cliente\n    if (!clienteSeleccionado) {\n      alert(\"‚ùå Debe seleccionar un cliente registrado en el sistema\");\n      return;\n    }\n    if (productosSeleccionados.length === 0) {\n      alert(\"‚ùå Debe agregar al menos un producto\");\n      return;\n    }\n\n    // Obtener tipo de cambio si es necesario\n    let cambio = 1;\n    if (moneda === \"USD\") {\n      cambio = await obtenerTipoCambio();\n    }\n    const subtotalMoneda = calcularSubtotal();\n    const subtotalSoles = moneda === \"USD\" ? subtotalMoneda * cambio : subtotalMoneda;\n    const igvSoles = subtotalSoles * 0.18;\n    const totalSoles = subtotalSoles + igvSoles;\n\n    // Determinar tipo de comprobante (solo BOLETA para personas)\n    const tipoComprobante = \"BOLETA\";\n\n    // Generar n√∫mero de comprobante\n    const numero = generarNumeroComprobante(tipoComprobante);\n\n    // ‚Üê Crear objeto de factura para el BACKEND\n    const facturaData = {\n      tipoComprobante,\n      numero,\n      subtotal: parseFloat(subtotalSoles.toFixed(2)),\n      igv: parseFloat(igvSoles.toFixed(2)),\n      total: parseFloat(totalSoles.toFixed(2)),\n      metodoPago: metodoPago.toUpperCase(),\n      moneda: moneda === \"PEN\" ? \"SOLES\" : \"DOLARES\",\n      id_cliente: clienteSeleccionado.id_cliente,\n      // ‚Üê ID del cliente del backend\n      productos: productosSeleccionados.map(p => ({\n        id_producto: p.id_producto,\n        cantidadVendida: p.cantidadVendida,\n        precio: p.precio,\n        subtotalProducto: p.subtotalProducto\n      }))\n    };\n    try {\n      // ‚Üê GUARDAR EN EL BACKEND\n      const facturaGuardada = await guardarFactura(facturaData);\n      alert(`‚úÖ ${tipoComprobante} ${numero} registrada exitosamente en la base de datos!`);\n      console.log(\"Factura guardada:\", facturaGuardada);\n\n      // Si hay funci√≥n del padre (para estado local del frontend)\n      if (agregarFactura) {\n        const facturaParaFrontend = {\n          ...facturaGuardada,\n          fecha: new Date().toLocaleString(),\n          cliente: clienteSeleccionado,\n          productos: productosSeleccionados,\n          monedaOriginal: moneda,\n          tipoCambio: moneda === \"USD\" ? cambio.toFixed(2) : null\n        };\n        agregarFactura(facturaParaFrontend);\n      }\n\n      // Limpiar formulario\n      limpiarFormulario();\n    } catch (err) {\n      console.error(\"Error al guardar factura:\", err);\n      alert(`‚ùå Error al guardar la venta: ${errorFactura || err.message}`);\n    }\n  };\n  const limpiarFormulario = () => {\n    setTipoCliente(\"persona\");\n    setDni(\"\");\n    setRuc(\"\");\n    setClienteSeleccionado(null);\n    setEmpresaSeleccionada(null);\n    setCodigoProducto(\"\");\n    setCantidadProducto(1);\n    setProductosSeleccionados([]);\n    setMetodoPago(\"efectivo\");\n    setMoneda(\"PEN\");\n    setTipoCambio(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ventas-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCDD Registrar Venta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), errorFactura && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      style: {\n        background: '#fee',\n        color: '#c00',\n        padding: '10px',\n        borderRadius: '5px',\n        marginBottom: '15px'\n      },\n      children: [\"\\u26A0\\uFE0F \", errorFactura]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0D Buscar Cliente (Solo DNI)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group-inline\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"DNI del cliente (8 d\\xEDgitos)\",\n          value: dni,\n          onChange: e => setDni(e.target.value.replace(/\\D/g, '').slice(0, 8)),\n          maxLength: \"8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: buscarCliente,\n          className: \"btn-buscar\",\n          disabled: loadingCliente,\n          children: loadingCliente ? \"Buscando...\" : \"üîç Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), clienteSeleccionado && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cliente-seleccionado\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u2705 Cliente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 16\n          }, this), \" \", clienteSeleccionado.nombreCompleto]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"DNI:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 16\n          }, this), \" \", clienteSeleccionado.dni]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"em\", {\n            children: \"Se generar\\xE1 una BOLETA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0D Buscar Producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group-inline\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"C\\xF3digo o nombre del producto\",\n          value: codigoProducto,\n          onChange: e => setCodigoProducto(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Cantidad\",\n          value: cantidadProducto,\n          onChange: e => setCantidadProducto(e.target.value),\n          min: \"1\",\n          className: \"input-cantidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: agregarProducto,\n          className: \"btn-agregar\",\n          children: \"\\u2795 Agregar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), productosSeleccionados.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDED2 Productos Seleccionados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"tabla-productos-venta\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"C\\xF3digo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Producto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Precio Unit.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cantidad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Subtotal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Acci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: productosSeleccionados.map(producto => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: producto.id_producto\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: producto.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"S/ \", producto.precio.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: producto.cantidadVendida,\n                onChange: e => actualizarCantidad(producto.id_producto, e.target.value),\n                min: \"1\",\n                max: producto.cantidad,\n                className: \"input-cantidad-tabla\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"S/ \", producto.subtotalProducto.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => eliminarProducto(producto.id_producto),\n                className: \"btn-eliminar\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 19\n            }, this)]\n          }, producto.id_producto, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }, this), productosSeleccionados.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"totales-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totales\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fila-total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Subtotal:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S/ \", calcularSubtotal().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fila-total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"IGV (18%):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S/ \", calcularIGV().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fila-total total-final\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"TOTAL:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S/ \", calcularTotal().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metodo-pago\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCB3 M\\xE9todo de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"opciones-pago\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"efectivo\",\n                checked: metodoPago === \"efectivo\",\n                onChange: e => setMetodoPago(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), \"\\uD83D\\uDCB5 Efectivo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"tarjeta\",\n                checked: metodoPago === \"tarjeta\",\n                onChange: e => setMetodoPago(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), \"\\uD83D\\uDCB3 Tarjeta\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generarFacturaVenta,\n        className: \"btn-generar-factura\",\n        disabled: loadingFactura || !clienteSeleccionado,\n        children: loadingFactura ? \"‚è≥ Guardando...\" : \"üßæ Generar Boleta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n_s(VentasForm, \"vXPxrhqoevem1OLAWLZmxToSb8Q=\", false, function () {\n  return [useClientes, useFacturas];\n});\n_c = VentasForm;\nexport default VentasForm;\nvar _c;\n$RefreshReg$(_c, \"VentasForm\");","map":{"version":3,"names":["React","useState","useEffect","useClientes","useFacturas","axios","jsxDEV","_jsxDEV","VentasForm","productos","clientesRegistrados","agregarFactura","_s","tipoCliente","setTipoCliente","dni","setDni","ruc","setRuc","clienteSeleccionado","setClienteSeleccionado","empresaSeleccionada","setEmpresaSeleccionada","buscarClientePorDNI","buscarClienteEnBackend","loading","loadingCliente","loadingEmpresa","setLoadingEmpresa","guardarFactura","generarNumeroComprobante","loadingFactura","error","errorFactura","codigoProducto","setCodigoProducto","cantidadProducto","setCantidadProducto","productosSeleccionados","setProductosSeleccionados","metodoPago","setMetodoPago","moneda","setMoneda","tipoCambio","setTipoCambio","buscarCliente","alert","busqueda","trim","length","test","clienteBackend","id_cliente","nombreCompleto","nombre_completo","apellidoPaterno","apellido_paterno","apellidoMaterno","apellido_materno","clienteData","err","buscarEmpresa","URL","res","get","timeout","data","estado","mensaje","resultado","razonSocial","razon_social","nombre","direccion","console","message","obtenerTipoCambio","cambio","result","agregarProducto","producto","find","p","String","id_producto","toLowerCase","includes","cantidad","existe","productoConCantidad","cantidadVendida","parseInt","subtotalProducto","precio","eliminarProducto","filter","actualizarCantidad","nuevaCantidad","map","calcularSubtotal","reduce","total","calcularIGV","calcularTotal","generarFacturaVenta","subtotalMoneda","subtotalSoles","igvSoles","totalSoles","tipoComprobante","numero","facturaData","subtotal","parseFloat","toFixed","igv","toUpperCase","facturaGuardada","log","facturaParaFrontend","fecha","Date","toLocaleString","cliente","monedaOriginal","limpiarFormulario","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","background","color","padding","borderRadius","marginBottom","type","placeholder","value","onChange","e","target","replace","slice","maxLength","onClick","disabled","min","max","checked","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/PROYECTO-DE-JS-PARCTICA-3/sistema-facturacion/src/components/VentasForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useClientes } from \"../hooks/useClientes\";\r\nimport { useFacturas } from \"../hooks/useFacturas\"; // ‚Üê IMPORTAR\r\nimport axios from \"axios\";\r\nimport \"./VentasForm.css\";\r\n\r\nconst VentasForm = ({ productos, clientesRegistrados, agregarFactura }) => {\r\n  // Estados para cliente o empresa\r\n  const [tipoCliente, setTipoCliente] = useState(\"persona\");\r\n  const [dni, setDni] = useState(\"\");\r\n  const [ruc, setRuc] = useState(\"\");\r\n  const [clienteSeleccionado, setClienteSeleccionado] = useState(null);\r\n  const [empresaSeleccionada, setEmpresaSeleccionada] = useState(null);\r\n  const { buscarClientePorDNI, buscarClienteEnBackend, loading: loadingCliente } = useClientes();\r\n  const [loadingEmpresa, setLoadingEmpresa] = useState(false);\r\n\r\n  // ‚Üê USAR EL HOOK DE FACTURAS\r\n  const { guardarFactura, generarNumeroComprobante, loading: loadingFactura, error: errorFactura } = useFacturas();\r\n\r\n  // Estados para productos\r\n  const [codigoProducto, setCodigoProducto] = useState(\"\");\r\n  const [cantidadProducto, setCantidadProducto] = useState(1);\r\n  const [productosSeleccionados, setProductosSeleccionados] = useState([]);\r\n\r\n  // Estados para factura\r\n  const [metodoPago, setMetodoPago] = useState(\"efectivo\");\r\n  const [moneda, setMoneda] = useState(\"PEN\");\r\n  const [tipoCambio, setTipoCambio] = useState(null);\r\n\r\n  // Buscar cliente por DNI (primero en backend, luego en RENIEC)\r\n  const buscarCliente = async () => {\r\n    if (!dni) {\r\n      alert(\"Ingrese DNI del cliente\");\r\n      return;\r\n    }\r\n\r\n    const busqueda = dni.trim();\r\n\r\n    // Si tiene 8 d√≠gitos, buscar por DNI\r\n    if (busqueda.length === 8 && /^\\d+$/.test(busqueda)) {\r\n      try {\r\n        // ‚Üê Primero buscar en el backend (clientes registrados)\r\n        const clienteBackend = await buscarClienteEnBackend(busqueda);\r\n        \r\n        if (clienteBackend && clienteBackend.length > 0) {\r\n          setClienteSeleccionado({\r\n            id_cliente: clienteBackend[0].id_cliente,\r\n            dni: clienteBackend[0].dni,\r\n            nombreCompleto: clienteBackend[0].nombre_completo,\r\n            apellidoPaterno: clienteBackend[0].apellido_paterno,\r\n            apellidoMaterno: clienteBackend[0].apellido_materno\r\n          });\r\n          return;\r\n        }\r\n\r\n        // Si no est√° en backend, buscar en RENIEC\r\n        const clienteData = await buscarClientePorDNI(busqueda);\r\n        alert(\"‚ö†Ô∏è Cliente encontrado en RENIEC pero no est√° registrado. Por favor reg√≠strelo primero en la secci√≥n 'Clientes'\");\r\n        setClienteSeleccionado(null);\r\n        return;\r\n      } catch (err) {\r\n        alert(\"‚ùå Cliente no encontrado. Debe registrarlo primero en la secci√≥n 'Clientes'\");\r\n        setClienteSeleccionado(null);\r\n      }\r\n    } else {\r\n      alert(\"El DNI debe tener 8 d√≠gitos\");\r\n    }\r\n  };\r\n\r\n  // Buscar empresa por RUC (SUNAT)\r\n  const buscarEmpresa = async () => {\r\n    if (!ruc || ruc.length !== 11) {\r\n      alert(\"Ingrese un RUC v√°lido (11 d√≠gitos)\");\r\n      return;\r\n    }\r\n\r\n    setLoadingEmpresa(true);\r\n    try {\r\n      const URL = `https://api.perudevs.com/api/v1/ruc/simple?document=${ruc}&key=cGVydWRldnMucHJvZHVjdGlvbi5maXRjb2RlcnMuNjhmMTkzNTcyZGZhMTIyNjA3ZTgzZTk5`;\r\n      \r\n      const res = await axios.get(URL, { timeout: 10000 });\r\n      \r\n      if (res.data && res.data.estado && res.data.mensaje === \"Encontrado\" && res.data.resultado) {\r\n        const data = res.data.resultado;\r\n        setEmpresaSeleccionada({\r\n          ruc: data.ruc || ruc,\r\n          razonSocial: data.razon_social || data.nombre || 'No disponible',\r\n          direccion: data.direccion || '-',\r\n          estado: data.estado || 'ACTIVO'\r\n        });\r\n        alert(\"‚úÖ Empresa encontrada correctamente en SUNAT\");\r\n      } else {\r\n        alert(\"‚ùå No se encontraron datos de la empresa en SUNAT\");\r\n        setEmpresaSeleccionada(null);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error:\", err);\r\n      alert(`‚ùå Error al consultar SUNAT: ${err.message}`);\r\n      setEmpresaSeleccionada(null);\r\n    } finally {\r\n      setLoadingEmpresa(false);\r\n    }\r\n  };\r\n\r\n  // Obtener tipo de cambio si es necesario\r\n  const obtenerTipoCambio = async () => {\r\n    if (moneda === \"USD\" && !tipoCambio) {\r\n      try {\r\n        const cambio = await axios.get(\"https://api.exchangerate.host/convert?from=USD&to=PEN&amount=1\");\r\n        setTipoCambio(cambio.data.result);\r\n        return cambio.data.result;\r\n      } catch (err) {\r\n        console.error(\"Error al obtener tipo de cambio:\", err);\r\n        alert(\"No se pudo obtener el tipo de cambio. Usando 3.80 por defecto\");\r\n        setTipoCambio(3.80);\r\n        return 3.80;\r\n      }\r\n    }\r\n    return tipoCambio || 1;\r\n  };\r\n\r\n  // Buscar y agregar producto\r\n  const agregarProducto = () => {\r\n    if (!codigoProducto) {\r\n      alert(\"Ingrese un c√≥digo de producto\");\r\n      return;\r\n    }\r\n\r\n    const producto = productos.find(p => \r\n      String(p.id_producto).toLowerCase().includes(codigoProducto.toLowerCase()) ||\r\n      p.nombre.toLowerCase().includes(codigoProducto.toLowerCase())\r\n    );\r\n\r\n    if (!producto) {\r\n      alert(\"Producto no encontrado\");\r\n      return;\r\n    }\r\n\r\n    // Verificar stock disponible\r\n    if (producto.cantidad < cantidadProducto) {\r\n      alert(`Stock insuficiente. Solo hay ${producto.cantidad} unidades disponibles`);\r\n      return;\r\n    }\r\n\r\n    const existe = productosSeleccionados.find(p => p.id_producto === producto.id_producto);\r\n    if (existe) {\r\n      alert(\"Este producto ya est√° agregado. Modifique la cantidad en la tabla.\");\r\n      return;\r\n    }\r\n\r\n    const productoConCantidad = {\r\n      ...producto,\r\n      cantidadVendida: parseInt(cantidadProducto),\r\n      subtotalProducto: producto.precio * parseInt(cantidadProducto)\r\n    };\r\n\r\n    setProductosSeleccionados([...productosSeleccionados, productoConCantidad]);\r\n    setCodigoProducto(\"\");\r\n    setCantidadProducto(1);\r\n  };\r\n\r\n  // Eliminar producto de la lista\r\n  const eliminarProducto = (id_producto) => {\r\n    setProductosSeleccionados(productosSeleccionados.filter(p => p.id_producto !== id_producto));\r\n  };\r\n\r\n  // Actualizar cantidad\r\n  const actualizarCantidad = (id_producto, nuevaCantidad) => {\r\n    if (nuevaCantidad < 1) return;\r\n    \r\n    // Verificar stock\r\n    const producto = productos.find(p => p.id_producto === id_producto);\r\n    if (producto && nuevaCantidad > producto.cantidad) {\r\n      alert(`Stock insuficiente. Solo hay ${producto.cantidad} unidades disponibles`);\r\n      return;\r\n    }\r\n    \r\n    setProductosSeleccionados(productosSeleccionados.map(p => \r\n      p.id_producto === id_producto \r\n        ? { ...p, cantidadVendida: parseInt(nuevaCantidad), subtotalProducto: p.precio * parseInt(nuevaCantidad) }\r\n        : p\r\n    ));\r\n  };\r\n\r\n  // Calcular totales\r\n  const calcularSubtotal = () => {\r\n    return productosSeleccionados.reduce((total, p) => total + p.subtotalProducto, 0);\r\n  };\r\n\r\n  const calcularIGV = () => {\r\n    return calcularSubtotal() * 0.18;\r\n  };\r\n\r\n  const calcularTotal = () => {\r\n    return calcularSubtotal() + calcularIGV();\r\n  };\r\n\r\n  // ‚Üê GENERAR FACTURA Y GUARDAR EN BACKEND\r\n  const generarFacturaVenta = async () => {\r\n    // Validar que haya cliente\r\n    if (!clienteSeleccionado) {\r\n      alert(\"‚ùå Debe seleccionar un cliente registrado en el sistema\");\r\n      return;\r\n    }\r\n\r\n    if (productosSeleccionados.length === 0) {\r\n      alert(\"‚ùå Debe agregar al menos un producto\");\r\n      return;\r\n    }\r\n\r\n    // Obtener tipo de cambio si es necesario\r\n    let cambio = 1;\r\n    if (moneda === \"USD\") {\r\n      cambio = await obtenerTipoCambio();\r\n    }\r\n\r\n    const subtotalMoneda = calcularSubtotal();\r\n    const subtotalSoles = moneda === \"USD\" ? subtotalMoneda * cambio : subtotalMoneda;\r\n    const igvSoles = subtotalSoles * 0.18;\r\n    const totalSoles = subtotalSoles + igvSoles;\r\n\r\n    // Determinar tipo de comprobante (solo BOLETA para personas)\r\n    const tipoComprobante = \"BOLETA\";\r\n    \r\n    // Generar n√∫mero de comprobante\r\n    const numero = generarNumeroComprobante(tipoComprobante);\r\n\r\n    // ‚Üê Crear objeto de factura para el BACKEND\r\n    const facturaData = {\r\n      tipoComprobante,\r\n      numero,\r\n      subtotal: parseFloat(subtotalSoles.toFixed(2)),\r\n      igv: parseFloat(igvSoles.toFixed(2)),\r\n      total: parseFloat(totalSoles.toFixed(2)),\r\n      metodoPago: metodoPago.toUpperCase(),\r\n      moneda: moneda === \"PEN\" ? \"SOLES\" : \"DOLARES\",\r\n      id_cliente: clienteSeleccionado.id_cliente, // ‚Üê ID del cliente del backend\r\n      productos: productosSeleccionados.map(p => ({\r\n        id_producto: p.id_producto,\r\n        cantidadVendida: p.cantidadVendida,\r\n        precio: p.precio,\r\n        subtotalProducto: p.subtotalProducto\r\n      }))\r\n    };\r\n\r\n    try {\r\n      // ‚Üê GUARDAR EN EL BACKEND\r\n      const facturaGuardada = await guardarFactura(facturaData);\r\n      \r\n      alert(`‚úÖ ${tipoComprobante} ${numero} registrada exitosamente en la base de datos!`);\r\n      console.log(\"Factura guardada:\", facturaGuardada);\r\n      \r\n      // Si hay funci√≥n del padre (para estado local del frontend)\r\n      if (agregarFactura) {\r\n        const facturaParaFrontend = {\r\n          ...facturaGuardada,\r\n          fecha: new Date().toLocaleString(),\r\n          cliente: clienteSeleccionado,\r\n          productos: productosSeleccionados,\r\n          monedaOriginal: moneda,\r\n          tipoCambio: moneda === \"USD\" ? cambio.toFixed(2) : null\r\n        };\r\n        agregarFactura(facturaParaFrontend);\r\n      }\r\n      \r\n      // Limpiar formulario\r\n      limpiarFormulario();\r\n    } catch (err) {\r\n      console.error(\"Error al guardar factura:\", err);\r\n      alert(`‚ùå Error al guardar la venta: ${errorFactura || err.message}`);\r\n    }\r\n  };\r\n\r\n  const limpiarFormulario = () => {\r\n    setTipoCliente(\"persona\");\r\n    setDni(\"\");\r\n    setRuc(\"\");\r\n    setClienteSeleccionado(null);\r\n    setEmpresaSeleccionada(null);\r\n    setCodigoProducto(\"\");\r\n    setCantidadProducto(1);\r\n    setProductosSeleccionados([]);\r\n    setMetodoPago(\"efectivo\");\r\n    setMoneda(\"PEN\");\r\n    setTipoCambio(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ventas-container\">\r\n      <h2>üìù Registrar Venta</h2>\r\n\r\n      {/* ‚Üê Mostrar error si existe */}\r\n      {errorFactura && (\r\n        <div className=\"error-message\" style={{\r\n          background: '#fee', \r\n          color: '#c00', \r\n          padding: '10px', \r\n          borderRadius: '5px', \r\n          marginBottom: '15px'\r\n        }}>\r\n          ‚ö†Ô∏è {errorFactura}\r\n        </div>\r\n      )}\r\n\r\n      {/* Secci√≥n 1: Buscar Cliente */}\r\n      <div className=\"seccion-venta\">\r\n        <h3>üîç Buscar Cliente (Solo DNI)</h3>\r\n        \r\n        <div className=\"form-group-inline\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"DNI del cliente (8 d√≠gitos)\"\r\n            value={dni}\r\n            onChange={(e) => setDni(e.target.value.replace(/\\D/g, '').slice(0, 8))}\r\n            maxLength=\"8\"\r\n          />\r\n          <button onClick={buscarCliente} className=\"btn-buscar\" disabled={loadingCliente}>\r\n            {loadingCliente ? \"Buscando...\" : \"üîç Buscar\"}\r\n          </button>\r\n        </div>\r\n\r\n        {clienteSeleccionado && (\r\n          <div className=\"cliente-seleccionado\">\r\n            <p><strong>‚úÖ Cliente:</strong> {clienteSeleccionado.nombreCompleto}</p>\r\n            <p><strong>DNI:</strong> {clienteSeleccionado.dni}</p>\r\n            <p><em>Se generar√° una BOLETA</em></p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Secci√≥n 2: Buscar y Agregar Producto */}\r\n      <div className=\"seccion-venta\">\r\n        <h3>üîç Buscar Producto</h3>\r\n        <div className=\"form-group-inline\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"C√≥digo o nombre del producto\"\r\n            value={codigoProducto}\r\n            onChange={(e) => setCodigoProducto(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Cantidad\"\r\n            value={cantidadProducto}\r\n            onChange={(e) => setCantidadProducto(e.target.value)}\r\n            min=\"1\"\r\n            className=\"input-cantidad\"\r\n          />\r\n          <button onClick={agregarProducto} className=\"btn-agregar\">\r\n            ‚ûï Agregar\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Secci√≥n 3: Tabla de Productos */}\r\n      {productosSeleccionados.length > 0 && (\r\n        <div className=\"seccion-venta\">\r\n          <h3>üõí Productos Seleccionados</h3>\r\n          <table className=\"tabla-productos-venta\">\r\n            <thead>\r\n              <tr>\r\n                <th>C√≥digo</th>\r\n                <th>Producto</th>\r\n                <th>Precio Unit.</th>\r\n                <th>Cantidad</th>\r\n                <th>Subtotal</th>\r\n                <th>Acci√≥n</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {productosSeleccionados.map((producto) => (\r\n                <tr key={producto.id_producto}>\r\n                  <td>{producto.id_producto}</td>\r\n                  <td>{producto.nombre}</td>\r\n                  <td>S/ {producto.precio.toFixed(2)}</td>\r\n                  <td>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={producto.cantidadVendida}\r\n                      onChange={(e) => actualizarCantidad(producto.id_producto, e.target.value)}\r\n                      min=\"1\"\r\n                      max={producto.cantidad}\r\n                      className=\"input-cantidad-tabla\"\r\n                    />\r\n                  </td>\r\n                  <td>S/ {producto.subtotalProducto.toFixed(2)}</td>\r\n                  <td>\r\n                    <button \r\n                      onClick={() => eliminarProducto(producto.id_producto)} \r\n                      className=\"btn-eliminar\"\r\n                    >\r\n                      üóëÔ∏è\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Secci√≥n 4: Totales y M√©todo de Pago */}\r\n      {productosSeleccionados.length > 0 && (\r\n        <div className=\"seccion-venta\">\r\n          <div className=\"totales-container\">\r\n            <div className=\"totales\">\r\n              <div className=\"fila-total\">\r\n                <span>Subtotal:</span>\r\n                <span>S/ {calcularSubtotal().toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"fila-total\">\r\n                <span>IGV (18%):</span>\r\n                <span>S/ {calcularIGV().toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"fila-total total-final\">\r\n                <span>TOTAL:</span>\r\n                <span>S/ {calcularTotal().toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"metodo-pago\">\r\n              <h4>üí≥ M√©todo de Pago</h4>\r\n              <div className=\"opciones-pago\">\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"efectivo\"\r\n                    checked={metodoPago === \"efectivo\"}\r\n                    onChange={(e) => setMetodoPago(e.target.value)}\r\n                  />\r\n                  üíµ Efectivo\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"tarjeta\"\r\n                    checked={metodoPago === \"tarjeta\"}\r\n                    onChange={(e) => setMetodoPago(e.target.value)}\r\n                  />\r\n                  üí≥ Tarjeta\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button \r\n            onClick={generarFacturaVenta} \r\n            className=\"btn-generar-factura\"\r\n            disabled={loadingFactura || !clienteSeleccionado}\r\n          >\r\n            {loadingFactura ? \"‚è≥ Guardando...\" : \"üßæ Generar Boleta\"}\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VentasForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}