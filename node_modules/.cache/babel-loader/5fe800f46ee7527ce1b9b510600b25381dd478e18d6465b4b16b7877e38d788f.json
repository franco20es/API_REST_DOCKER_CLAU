{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from 'axios';\nconst BACKEND_URL = 'http://localhost:8080/api/productos';\nexport const useProductos = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Obtener todos los productos\n  const obtenerProductos = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(BACKEND_URL);\n      setLoading(false);\n      return response.data;\n    } catch (err) {\n      setLoading(false);\n      setError('Error al obtener productos');\n      console.error('Error obteniendo productos:', err);\n      throw err;\n    }\n  };\n\n  // Guardar producto en el backend\n  const guardarProducto = async productoData => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.post(BACKEND_URL, {\n        nombre: productoData.nombre,\n        precio: productoData.precio,\n        cantidad: productoData.cantidad\n      });\n      setLoading(false);\n      return response.data;\n    } catch (err) {\n      setLoading(false);\n      setError('Error al guardar producto en la base de datos');\n      console.error('Error guardando producto:', err);\n      throw err;\n    }\n  };\n\n  // Buscar producto por ID\n  const buscarProductoPorId = async id => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${BACKEND_URL}/${id}`);\n      setLoading(false);\n      return response.data;\n    } catch (err) {\n      setLoading(false);\n      setError('Producto no encontrado');\n      console.error('Error buscando producto:', err);\n      return null;\n    }\n  };\n\n  // Buscar productos por nombre\n  const buscarProductosPorNombre = async nombre => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${BACKEND_URL}/buscar/nombre/${nombre}`);\n      setLoading(false);\n      return response.data;\n    } catch (err) {\n      setLoading(false);\n      setError('No se encontraron productos con ese nombre');\n      console.error('Error buscando productos:', err);\n      return [];\n    }\n  };\n\n  // Actualizar producto\n  const actualizarProducto = async (id, productoData) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.put(`${BACKEND_URL}/${id}`, {\n        nombre: productoData.nombre,\n        precio: productoData.precio,\n        cantidad: productoData.cantidad\n      });\n      setLoading(false);\n      return response.data;\n    } catch (err) {\n      setLoading(false);\n      setError('Error al actualizar producto');\n      console.error('Error actualizando producto:', err);\n      throw err;\n    }\n  };\n\n  // Eliminar producto\n  const eliminarProducto = async id => {\n    setLoading(true);\n    setError(null);\n    try {\n      await axios.delete(`${BACKEND_URL}/${id}`);\n      setLoading(false);\n      return true;\n    } catch (err) {\n      setLoading(false);\n      setError('Error al eliminar producto');\n      console.error('Error eliminando producto:', err);\n      throw err;\n    }\n  };\n  return {\n    loading,\n    error,\n    obtenerProductos,\n    guardarProducto,\n    buscarProductoPorId,\n    buscarProductosPorNombre,\n    actualizarProducto,\n    eliminarProducto\n  };\n};\n_s(useProductos, \"Iz3ozxQ+abMaAIcGIvU8cKUcBeo=\");","map":{"version":3,"names":["useState","axios","BACKEND_URL","useProductos","_s","loading","setLoading","error","setError","obtenerProductos","response","get","data","err","console","guardarProducto","productoData","post","nombre","precio","cantidad","buscarProductoPorId","id","buscarProductosPorNombre","actualizarProducto","put","eliminarProducto","delete"],"sources":["C:/Users/user/Desktop/PROYECTO-DE-JS-PARCTICA-3/sistema-facturacion/src/hooks/useProductos.js"],"sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst BACKEND_URL = 'http://localhost:8080/api/productos';\r\n\r\nexport const useProductos = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Obtener todos los productos\r\n  const obtenerProductos = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(BACKEND_URL);\r\n      setLoading(false);\r\n      return response.data;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('Error al obtener productos');\r\n      console.error('Error obteniendo productos:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Guardar producto en el backend\r\n  const guardarProducto = async (productoData) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.post(BACKEND_URL, {\r\n        nombre: productoData.nombre,\r\n        precio: productoData.precio,\r\n        cantidad: productoData.cantidad\r\n      });\r\n      \r\n      setLoading(false);\r\n      return response.data;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('Error al guardar producto en la base de datos');\r\n      console.error('Error guardando producto:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Buscar producto por ID\r\n  const buscarProductoPorId = async (id) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(`${BACKEND_URL}/${id}`);\r\n      setLoading(false);\r\n      return response.data;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('Producto no encontrado');\r\n      console.error('Error buscando producto:', err);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Buscar productos por nombre\r\n  const buscarProductosPorNombre = async (nombre) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.get(`${BACKEND_URL}/buscar/nombre/${nombre}`);\r\n      setLoading(false);\r\n      return response.data;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('No se encontraron productos con ese nombre');\r\n      console.error('Error buscando productos:', err);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Actualizar producto\r\n  const actualizarProducto = async (id, productoData) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.put(`${BACKEND_URL}/${id}`, {\r\n        nombre: productoData.nombre,\r\n        precio: productoData.precio,\r\n        cantidad: productoData.cantidad\r\n      });\r\n      \r\n      setLoading(false);\r\n      return response.data;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('Error al actualizar producto');\r\n      console.error('Error actualizando producto:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  // Eliminar producto\r\n  const eliminarProducto = async (id) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await axios.delete(`${BACKEND_URL}/${id}`);\r\n      setLoading(false);\r\n      return true;\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('Error al eliminar producto');\r\n      console.error('Error eliminando producto:', err);\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    obtenerProductos,\r\n    guardarProducto,\r\n    buscarProductoPorId,\r\n    buscarProductosPorNombre,\r\n    actualizarProducto,\r\n    eliminarProducto\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}