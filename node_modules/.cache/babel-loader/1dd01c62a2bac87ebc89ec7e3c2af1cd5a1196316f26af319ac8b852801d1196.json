{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\PROYECTO-DE-JS-PARCTICA-3\\\\sistema-facturacion\\\\src\\\\components\\\\VentasForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useClientes } from \"../hooks/useClientes\";\nimport axios from \"axios\";\nimport \"./VentasForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VentasForm = ({\n  productos,\n  clientesRegistrados,\n  agregarFactura\n}) => {\n  _s();\n  // Estados para cliente o empresa\n  const [tipoCliente, setTipoCliente] = useState(\"persona\"); // \"persona\" o \"empresa\"\n  const [dni, setDni] = useState(\"\");\n  const [ruc, setRuc] = useState(\"\");\n  const [clienteSeleccionado, setClienteSeleccionado] = useState(null);\n  const [empresaSeleccionada, setEmpresaSeleccionada] = useState(null);\n  const {\n    buscarClientePorDNI,\n    loading: loadingCliente\n  } = useClientes();\n  const [loadingEmpresa, setLoadingEmpresa] = useState(false);\n\n  // Estados para productos\n  const [codigoProducto, setCodigoProducto] = useState(\"\");\n  const [cantidadProducto, setCantidadProducto] = useState(1);\n  const [productosSeleccionados, setProductosSeleccionados] = useState([]);\n\n  // Estados para factura\n  const [metodoPago, setMetodoPago] = useState(\"efectivo\");\n  const [moneda, setMoneda] = useState(\"PEN\");\n  const [tipoCambio, setTipoCambio] = useState(null);\n\n  // Buscar cliente por DNI, nombre o apellido\n  const buscarCliente = async () => {\n    if (!dni) {\n      alert(\"Ingrese DNI, nombre o apellido del cliente\");\n      return;\n    }\n    const busqueda = dni.toLowerCase().trim();\n\n    // Si tiene 8 d√≠gitos, buscar por DNI en la API\n    if (busqueda.length === 8 && /^\\d+$/.test(busqueda)) {\n      try {\n        const clienteData = await buscarClientePorDNI(busqueda);\n        setClienteSeleccionado(clienteData);\n        return;\n      } catch (err) {\n        // Si falla la API, buscar localmente\n      }\n    }\n\n    // Buscar en clientes registrados localmente (por DNI, nombre o apellido)\n    const clienteLocal = clientesRegistrados.find(c => c.dni === busqueda || c.dni.includes(busqueda) || c.nombres && c.nombres.toLowerCase().includes(busqueda) || c.nombreCompleto && c.nombreCompleto.toLowerCase().includes(busqueda) || c.apellidoPaterno && c.apellidoPaterno.toLowerCase().includes(busqueda) || c.apellidoMaterno && c.apellidoMaterno.toLowerCase().includes(busqueda));\n    if (clienteLocal) {\n      setClienteSeleccionado(clienteLocal);\n    } else {\n      alert(\"Cliente no encontrado. Aseg√∫rese de registrarlo primero en la secci√≥n 'Clientes'\");\n      setClienteSeleccionado(null);\n    }\n  };\n\n  // Buscar empresa por RUC (SUNAT) - Con opci√≥n manual directa\n  const buscarEmpresa = async () => {\n    if (!ruc || ruc.length !== 11) {\n      alert(\"Ingrese un RUC v√°lido (11 d√≠gitos)\");\n      return;\n    }\n    setLoadingEmpresa(true);\n\n    // Lista de APIs para intentar\n    const apis = [{\n      url: `https://dniruc.apisperu.com/api/v1/ruc/${ruc}?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6ImZpdGNvZGVyc0BnbWFpbC5jb20ifQ.kkCWFzp8Y_4Gpb5DG2MA7e4BDYnpqVZP9fYxkIbMbcs`,\n      name: 'APIsPer√∫'\n    }, {\n      url: `https://api.apis.net.pe/v1/ruc?numero=${ruc}`,\n      name: 'APIs.net.pe'\n    }];\n    let empresaEncontrada = false;\n    for (const api of apis) {\n      try {\n        console.log(`Intentando con ${api.name}...`);\n        const res = await axios.get(api.url);\n        if (res.data) {\n          const data = res.data;\n          setEmpresaSeleccionada({\n            ruc: data.ruc || data.numeroDocumento || ruc,\n            razonSocial: data.razonSocial || data.nombre || data.razon_social || 'No disponible',\n            direccion: data.direccion || data.direccionCompleta || '-',\n            estado: data.estado || 'ACTIVO',\n            condicion: data.condicion || '-',\n            departamento: data.departamento || '-',\n            provincia: data.provincia || '-',\n            distrito: data.distrito || '-',\n            ubigeo: data.ubigeo || '-'\n          });\n          empresaEncontrada = true;\n          setLoadingEmpresa(false);\n          return; // Salir si encontr√≥ la empresa\n        }\n      } catch (err) {\n        console.error(`Error con ${api.name}:`, err.message);\n        // Continuar con la siguiente API\n      }\n    }\n\n    // Si ninguna API funcion√≥, dar opci√≥n de ingreso manual\n    setLoadingEmpresa(false);\n    const ingresarManual = window.confirm(`RUC: ${ruc}\\n\\nNo se pudo consultar SUNAT autom√°ticamente.\\n¬øDesea ingresar los datos de la empresa manualmente?`);\n    if (ingresarManual) {\n      const razonSocial = prompt(\"Ingrese la Raz√≥n Social de la empresa:\");\n      const direccion = prompt(\"Ingrese la Direcci√≥n (opcional):\", \"\");\n      if (razonSocial) {\n        setEmpresaSeleccionada({\n          ruc: ruc,\n          razonSocial: razonSocial.trim(),\n          direccion: (direccion === null || direccion === void 0 ? void 0 : direccion.trim()) || '-',\n          estado: 'INGRESO MANUAL',\n          condicion: '-',\n          departamento: '-',\n          provincia: '-',\n          distrito: '-'\n        });\n      } else {\n        alert(\"Debe ingresar al menos la Raz√≥n Social\");\n        setEmpresaSeleccionada(null);\n      }\n    } else {\n      setEmpresaSeleccionada(null);\n    }\n  };\n\n  // Obtener tipo de cambio si es necesario\n  const obtenerTipoCambio = async () => {\n    if (moneda === \"USD\" && !tipoCambio) {\n      try {\n        const cambio = await axios.get(\"https://api.exchangerate.host/convert?from=USD&to=PEN&amount=1\");\n        setTipoCambio(cambio.data.result);\n        return cambio.data.result;\n      } catch (err) {\n        console.error(\"Error al obtener tipo de cambio:\", err);\n        alert(\"No se pudo obtener el tipo de cambio. Usando 3.80 por defecto\");\n        setTipoCambio(3.80);\n        return 3.80;\n      }\n    }\n    return tipoCambio || 1;\n  };\n\n  // Buscar y agregar producto\n  const agregarProducto = () => {\n    if (!codigoProducto) {\n      alert(\"Ingrese un c√≥digo de producto\");\n      return;\n    }\n    const producto = productos.find(p => String(p.id).toLowerCase().includes(codigoProducto.toLowerCase()) || p.nombre.toLowerCase().includes(codigoProducto.toLowerCase()));\n    if (!producto) {\n      alert(\"Producto no encontrado\");\n      return;\n    }\n\n    // Verificar si ya existe en la lista\n    const existe = productosSeleccionados.find(p => p.id === producto.id);\n    if (existe) {\n      alert(\"Este producto ya est√° agregado. Modifique la cantidad en la tabla.\");\n      return;\n    }\n    const productoConCantidad = {\n      ...producto,\n      cantidadVendida: parseInt(cantidadProducto),\n      subtotalProducto: producto.precio * parseInt(cantidadProducto)\n    };\n    setProductosSeleccionados([...productosSeleccionados, productoConCantidad]);\n    setCodigoProducto(\"\");\n    setCantidadProducto(1);\n  };\n\n  // Eliminar producto de la lista\n  const eliminarProducto = id => {\n    setProductosSeleccionados(productosSeleccionados.filter(p => p.id !== id));\n  };\n\n  // Actualizar cantidad\n  const actualizarCantidad = (id, nuevaCantidad) => {\n    if (nuevaCantidad < 1) return;\n    setProductosSeleccionados(productosSeleccionados.map(p => p.id === id ? {\n      ...p,\n      cantidadVendida: parseInt(nuevaCantidad),\n      subtotalProducto: p.precio * parseInt(nuevaCantidad)\n    } : p));\n  };\n\n  // Calcular totales\n  const calcularSubtotal = () => {\n    return productosSeleccionados.reduce((total, p) => total + p.subtotalProducto, 0);\n  };\n  const calcularIGV = () => {\n    return calcularSubtotal() * 0.18;\n  };\n  const calcularTotal = () => {\n    return calcularSubtotal() + calcularIGV();\n  };\n\n  // Generar factura\n  const generarFactura = async () => {\n    // Validar que haya cliente o empresa\n    if (!clienteSeleccionado && !empresaSeleccionada) {\n      alert(\"Debe seleccionar un cliente o empresa\");\n      return;\n    }\n    if (productosSeleccionados.length === 0) {\n      alert(\"Debe agregar al menos un producto\");\n      return;\n    }\n\n    // Obtener tipo de cambio si es necesario\n    let cambio = 1;\n    if (moneda === \"USD\") {\n      cambio = await obtenerTipoCambio();\n    }\n    const subtotalMoneda = calcularSubtotal();\n    const subtotalSoles = moneda === \"USD\" ? subtotalMoneda * cambio : subtotalMoneda;\n    const igvSoles = subtotalSoles * 0.18;\n    const totalSoles = subtotalSoles + igvSoles;\n    const nuevaFactura = {\n      id: Date.now(),\n      fecha: new Date().toLocaleString(),\n      cliente: clienteSeleccionado || {\n        ruc: empresaSeleccionada === null || empresaSeleccionada === void 0 ? void 0 : empresaSeleccionada.ruc,\n        nombreCompleto: empresaSeleccionada === null || empresaSeleccionada === void 0 ? void 0 : empresaSeleccionada.razonSocial,\n        tipo: \"empresa\"\n      },\n      empresa: (empresaSeleccionada === null || empresaSeleccionada === void 0 ? void 0 : empresaSeleccionada.razonSocial) || null,\n      productos: productosSeleccionados,\n      subtotal: subtotalSoles.toFixed(2),\n      igv: igvSoles.toFixed(2),\n      total: totalSoles.toFixed(2),\n      metodoPago: metodoPago,\n      monedaOriginal: moneda,\n      tipoCambio: moneda === \"USD\" ? cambio.toFixed(2) : null,\n      moneda: moneda\n    };\n    agregarFactura(nuevaFactura);\n    alert(\"¬°Factura generada exitosamente!\");\n\n    // Limpiar formulario\n    limpiarFormulario();\n  };\n  const limpiarFormulario = () => {\n    setTipoCliente(\"persona\");\n    setDni(\"\");\n    setRuc(\"\");\n    setClienteSeleccionado(null);\n    setEmpresaSeleccionada(null);\n    setCodigoProducto(\"\");\n    setCantidadProducto(1);\n    setProductosSeleccionados([]);\n    setMetodoPago(\"efectivo\");\n    setMoneda(\"PEN\");\n    setTipoCambio(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ventas-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCDD Registrar Venta\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0D Buscar Cliente o Empresa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tipo-cliente-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            value: \"persona\",\n            checked: tipoCliente === \"persona\",\n            onChange: e => {\n              setTipoCliente(e.target.value);\n              setEmpresaSeleccionada(null);\n              setClienteSeleccionado(null);\n              setRuc(\"\");\n              setDni(\"\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), \"\\uD83D\\uDC64 Persona Natural (DNI)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            value: \"empresa\",\n            checked: tipoCliente === \"empresa\",\n            onChange: e => {\n              setTipoCliente(e.target.value);\n              setEmpresaSeleccionada(null);\n              setClienteSeleccionado(null);\n              setRuc(\"\");\n              setDni(\"\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), \"\\uD83C\\uDFE2 Empresa (RUC)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), tipoCliente === \"persona\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group-inline\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"DNI, nombre o apellido del cliente\",\n          value: dni,\n          onChange: e => setDni(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: buscarCliente,\n          className: \"btn-buscar\",\n          disabled: loadingCliente,\n          children: loadingCliente ? \"Buscando...\" : \"üîç Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this), tipoCliente === \"empresa\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group-inline\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Ingrese RUC (11 d\\xEDgitos)\",\n          value: ruc,\n          onChange: e => setRuc(e.target.value.replace(/\\D/g, '').slice(0, 11)),\n          maxLength: \"11\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: buscarEmpresa,\n          className: \"btn-buscar\",\n          disabled: loadingEmpresa,\n          children: loadingEmpresa ? \"Buscando...\" : \"üîç Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this), clienteSeleccionado && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cliente-seleccionado\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Cliente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 16\n          }, this), \" \", clienteSeleccionado.nombreCompleto || `${clienteSeleccionado.nombres} ${clienteSeleccionado.apellidoPaterno}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"DNI:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 16\n          }, this), \" \", clienteSeleccionado.dni]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this), empresaSeleccionada && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cliente-seleccionado\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Empresa:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 16\n          }, this), \" \", empresaSeleccionada.razonSocial]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"RUC:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 16\n          }, this), \" \", empresaSeleccionada.ruc]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), empresaSeleccionada.direccion && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Direcci\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 50\n          }, this), \" \", empresaSeleccionada.direccion]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 47\n        }, this), empresaSeleccionada.estado && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Estado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 47\n          }, this), \" \", empresaSeleccionada.estado]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0D Buscar Producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group-inline\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"C\\xF3digo o nombre del producto\",\n          value: codigoProducto,\n          onChange: e => setCodigoProducto(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Cantidad\",\n          value: cantidadProducto,\n          onChange: e => setCantidadProducto(e.target.value),\n          min: \"1\",\n          className: \"input-cantidad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: agregarProducto,\n          className: \"btn-agregar\",\n          children: \"\\u2795 Agregar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 7\n    }, this), productosSeleccionados.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDED2 Productos Seleccionados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"tabla-productos-venta\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"C\\xF3digo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Producto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Precio Unit.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cantidad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Subtotal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Acci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: productosSeleccionados.map(producto => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: producto.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: producto.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"S/ \", producto.precio.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: producto.cantidadVendida,\n                onChange: e => actualizarCantidad(producto.id, e.target.value),\n                min: \"1\",\n                className: \"input-cantidad-tabla\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"S/ \", producto.subtotalProducto.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => eliminarProducto(producto.id),\n                className: \"btn-eliminar\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 19\n            }, this)]\n          }, producto.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }, this), productosSeleccionados.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seccion-venta\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"totales-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"totales\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fila-total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Subtotal:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S/ \", calcularSubtotal().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fila-total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"IGV (18%):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S/ \", calcularIGV().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fila-total total-final\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"TOTAL:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"S/ \", calcularTotal().toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metodo-pago\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\uD83D\\uDCB3 M\\xE9todo de Pago\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"opciones-pago\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"efectivo\",\n                checked: metodoPago === \"efectivo\",\n                onChange: e => setMetodoPago(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), \"\\uD83D\\uDCB5 Efectivo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"tarjeta\",\n                checked: metodoPago === \"tarjeta\",\n                onChange: e => setMetodoPago(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 19\n              }, this), \"\\uD83D\\uDCB3 Tarjeta\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"opciones-moneda\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"PEN\",\n                checked: moneda === \"PEN\",\n                onChange: e => {\n                  setMoneda(e.target.value);\n                  setTipoCambio(null);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this), \"\\uD83C\\uDDF5\\uD83C\\uDDEA Soles (PEN)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: \"USD\",\n                checked: moneda === \"USD\",\n                onChange: e => {\n                  setMoneda(e.target.value);\n                  obtenerTipoCambio();\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this), \"\\uD83D\\uDCB5 D\\xF3lares (USD)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), moneda === \"USD\" && tipoCambio && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tipo-cambio-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u26A0\\uFE0F Tipo de cambio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 22\n              }, this), \" $1 USD = S/ \", tipoCambio.toFixed(2), \" PEN\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"em\", {\n                children: \"Los totales se mostrar\\xE1n en Soles (requerimiento SUNAT)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generarFactura,\n        className: \"btn-generar-factura\",\n        children: \"\\u2705 Generar Factura\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n};\n_s(VentasForm, \"8k6N1SEm22ebzkH57hIr6Y8X7+M=\", false, function () {\n  return [useClientes];\n});\n_c = VentasForm;\nexport default VentasForm;\nvar _c;\n$RefreshReg$(_c, \"VentasForm\");","map":{"version":3,"names":["React","useState","useClientes","axios","jsxDEV","_jsxDEV","VentasForm","productos","clientesRegistrados","agregarFactura","_s","tipoCliente","setTipoCliente","dni","setDni","ruc","setRuc","clienteSeleccionado","setClienteSeleccionado","empresaSeleccionada","setEmpresaSeleccionada","buscarClientePorDNI","loading","loadingCliente","loadingEmpresa","setLoadingEmpresa","codigoProducto","setCodigoProducto","cantidadProducto","setCantidadProducto","productosSeleccionados","setProductosSeleccionados","metodoPago","setMetodoPago","moneda","setMoneda","tipoCambio","setTipoCambio","buscarCliente","alert","busqueda","toLowerCase","trim","length","test","clienteData","err","clienteLocal","find","c","includes","nombres","nombreCompleto","apellidoPaterno","apellidoMaterno","buscarEmpresa","apis","url","name","empresaEncontrada","api","console","log","res","get","data","numeroDocumento","razonSocial","nombre","razon_social","direccion","direccionCompleta","estado","condicion","departamento","provincia","distrito","ubigeo","error","message","ingresarManual","window","confirm","prompt","obtenerTipoCambio","cambio","result","agregarProducto","producto","p","String","id","existe","productoConCantidad","cantidadVendida","parseInt","subtotalProducto","precio","eliminarProducto","filter","actualizarCantidad","nuevaCantidad","map","calcularSubtotal","reduce","total","calcularIGV","calcularTotal","generarFactura","subtotalMoneda","subtotalSoles","igvSoles","totalSoles","nuevaFactura","Date","now","fecha","toLocaleString","cliente","tipo","empresa","subtotal","toFixed","igv","monedaOriginal","limpiarFormulario","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","checked","onChange","e","target","placeholder","onClick","disabled","replace","slice","maxLength","min","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/PROYECTO-DE-JS-PARCTICA-3/sistema-facturacion/src/components/VentasForm.jsx"],"sourcesContent":["\r\nimport React, { useState } from \"react\";\r\nimport { useClientes } from \"../hooks/useClientes\";\r\nimport axios from \"axios\";\r\nimport \"./VentasForm.css\";\r\n\r\nconst VentasForm = ({ productos, clientesRegistrados, agregarFactura }) => {\r\n  // Estados para cliente o empresa\r\n  const [tipoCliente, setTipoCliente] = useState(\"persona\"); // \"persona\" o \"empresa\"\r\n  const [dni, setDni] = useState(\"\");\r\n  const [ruc, setRuc] = useState(\"\");\r\n  const [clienteSeleccionado, setClienteSeleccionado] = useState(null);\r\n  const [empresaSeleccionada, setEmpresaSeleccionada] = useState(null);\r\n  const { buscarClientePorDNI, loading: loadingCliente } = useClientes();\r\n  const [loadingEmpresa, setLoadingEmpresa] = useState(false);\r\n\r\n  // Estados para productos\r\n  const [codigoProducto, setCodigoProducto] = useState(\"\");\r\n  const [cantidadProducto, setCantidadProducto] = useState(1);\r\n  const [productosSeleccionados, setProductosSeleccionados] = useState([]);\r\n\r\n  // Estados para factura\r\n  const [metodoPago, setMetodoPago] = useState(\"efectivo\");\r\n  const [moneda, setMoneda] = useState(\"PEN\");\r\n  const [tipoCambio, setTipoCambio] = useState(null);\r\n\r\n  // Buscar cliente por DNI, nombre o apellido\r\n  const buscarCliente = async () => {\r\n    if (!dni) {\r\n      alert(\"Ingrese DNI, nombre o apellido del cliente\");\r\n      return;\r\n    }\r\n\r\n    const busqueda = dni.toLowerCase().trim();\r\n\r\n    // Si tiene 8 d√≠gitos, buscar por DNI en la API\r\n    if (busqueda.length === 8 && /^\\d+$/.test(busqueda)) {\r\n      try {\r\n        const clienteData = await buscarClientePorDNI(busqueda);\r\n        setClienteSeleccionado(clienteData);\r\n        return;\r\n      } catch (err) {\r\n        // Si falla la API, buscar localmente\r\n      }\r\n    }\r\n\r\n    // Buscar en clientes registrados localmente (por DNI, nombre o apellido)\r\n    const clienteLocal = clientesRegistrados.find(c => \r\n      c.dni === busqueda ||\r\n      c.dni.includes(busqueda) ||\r\n      (c.nombres && c.nombres.toLowerCase().includes(busqueda)) ||\r\n      (c.nombreCompleto && c.nombreCompleto.toLowerCase().includes(busqueda)) ||\r\n      (c.apellidoPaterno && c.apellidoPaterno.toLowerCase().includes(busqueda)) ||\r\n      (c.apellidoMaterno && c.apellidoMaterno.toLowerCase().includes(busqueda))\r\n    );\r\n\r\n    if (clienteLocal) {\r\n      setClienteSeleccionado(clienteLocal);\r\n    } else {\r\n      alert(\"Cliente no encontrado. Aseg√∫rese de registrarlo primero en la secci√≥n 'Clientes'\");\r\n      setClienteSeleccionado(null);\r\n    }\r\n  };\r\n\r\n  // Buscar empresa por RUC (SUNAT) - Con opci√≥n manual directa\r\n  const buscarEmpresa = async () => {\r\n    if (!ruc || ruc.length !== 11) {\r\n      alert(\"Ingrese un RUC v√°lido (11 d√≠gitos)\");\r\n      return;\r\n    }\r\n\r\n    setLoadingEmpresa(true);\r\n    \r\n    // Lista de APIs para intentar\r\n    const apis = [\r\n      { url: `https://dniruc.apisperu.com/api/v1/ruc/${ruc}?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6ImZpdGNvZGVyc0BnbWFpbC5jb20ifQ.kkCWFzp8Y_4Gpb5DG2MA7e4BDYnpqVZP9fYxkIbMbcs`, name: 'APIsPer√∫' },\r\n      { url: `https://api.apis.net.pe/v1/ruc?numero=${ruc}`, name: 'APIs.net.pe' },\r\n    ];\r\n    \r\n    let empresaEncontrada = false;\r\n    \r\n    for (const api of apis) {\r\n      try {\r\n        console.log(`Intentando con ${api.name}...`);\r\n        const res = await axios.get(api.url);\r\n        \r\n        if (res.data) {\r\n          const data = res.data;\r\n          setEmpresaSeleccionada({\r\n            ruc: data.ruc || data.numeroDocumento || ruc,\r\n            razonSocial: data.razonSocial || data.nombre || data.razon_social || 'No disponible',\r\n            direccion: data.direccion || data.direccionCompleta || '-',\r\n            estado: data.estado || 'ACTIVO',\r\n            condicion: data.condicion || '-',\r\n            departamento: data.departamento || '-',\r\n            provincia: data.provincia || '-',\r\n            distrito: data.distrito || '-',\r\n            ubigeo: data.ubigeo || '-'\r\n          });\r\n          empresaEncontrada = true;\r\n          setLoadingEmpresa(false);\r\n          return; // Salir si encontr√≥ la empresa\r\n        }\r\n      } catch (err) {\r\n        console.error(`Error con ${api.name}:`, err.message);\r\n        // Continuar con la siguiente API\r\n      }\r\n    }\r\n    \r\n    // Si ninguna API funcion√≥, dar opci√≥n de ingreso manual\r\n    setLoadingEmpresa(false);\r\n    \r\n    const ingresarManual = window.confirm(\r\n      `RUC: ${ruc}\\n\\nNo se pudo consultar SUNAT autom√°ticamente.\\n¬øDesea ingresar los datos de la empresa manualmente?`\r\n    );\r\n    \r\n    if (ingresarManual) {\r\n      const razonSocial = prompt(\"Ingrese la Raz√≥n Social de la empresa:\");\r\n      const direccion = prompt(\"Ingrese la Direcci√≥n (opcional):\", \"\");\r\n      \r\n      if (razonSocial) {\r\n        setEmpresaSeleccionada({\r\n          ruc: ruc,\r\n          razonSocial: razonSocial.trim(),\r\n          direccion: direccion?.trim() || '-',\r\n          estado: 'INGRESO MANUAL',\r\n          condicion: '-',\r\n          departamento: '-',\r\n          provincia: '-',\r\n          distrito: '-'\r\n        });\r\n      } else {\r\n        alert(\"Debe ingresar al menos la Raz√≥n Social\");\r\n        setEmpresaSeleccionada(null);\r\n      }\r\n    } else {\r\n      setEmpresaSeleccionada(null);\r\n    }\r\n  };\r\n\r\n  // Obtener tipo de cambio si es necesario\r\n  const obtenerTipoCambio = async () => {\r\n    if (moneda === \"USD\" && !tipoCambio) {\r\n      try {\r\n        const cambio = await axios.get(\"https://api.exchangerate.host/convert?from=USD&to=PEN&amount=1\");\r\n        setTipoCambio(cambio.data.result);\r\n        return cambio.data.result;\r\n      } catch (err) {\r\n        console.error(\"Error al obtener tipo de cambio:\", err);\r\n        alert(\"No se pudo obtener el tipo de cambio. Usando 3.80 por defecto\");\r\n        setTipoCambio(3.80);\r\n        return 3.80;\r\n      }\r\n    }\r\n    return tipoCambio || 1;\r\n  };\r\n\r\n  // Buscar y agregar producto\r\n  const agregarProducto = () => {\r\n    if (!codigoProducto) {\r\n      alert(\"Ingrese un c√≥digo de producto\");\r\n      return;\r\n    }\r\n\r\n    const producto = productos.find(p => \r\n      String(p.id).toLowerCase().includes(codigoProducto.toLowerCase()) ||\r\n      p.nombre.toLowerCase().includes(codigoProducto.toLowerCase())\r\n    );\r\n\r\n    if (!producto) {\r\n      alert(\"Producto no encontrado\");\r\n      return;\r\n    }\r\n\r\n    // Verificar si ya existe en la lista\r\n    const existe = productosSeleccionados.find(p => p.id === producto.id);\r\n    if (existe) {\r\n      alert(\"Este producto ya est√° agregado. Modifique la cantidad en la tabla.\");\r\n      return;\r\n    }\r\n\r\n    const productoConCantidad = {\r\n      ...producto,\r\n      cantidadVendida: parseInt(cantidadProducto),\r\n      subtotalProducto: producto.precio * parseInt(cantidadProducto)\r\n    };\r\n\r\n    setProductosSeleccionados([...productosSeleccionados, productoConCantidad]);\r\n    setCodigoProducto(\"\");\r\n    setCantidadProducto(1);\r\n  };\r\n\r\n  // Eliminar producto de la lista\r\n  const eliminarProducto = (id) => {\r\n    setProductosSeleccionados(productosSeleccionados.filter(p => p.id !== id));\r\n  };\r\n\r\n  // Actualizar cantidad\r\n  const actualizarCantidad = (id, nuevaCantidad) => {\r\n    if (nuevaCantidad < 1) return;\r\n    \r\n    setProductosSeleccionados(productosSeleccionados.map(p => \r\n      p.id === id \r\n        ? { ...p, cantidadVendida: parseInt(nuevaCantidad), subtotalProducto: p.precio * parseInt(nuevaCantidad) }\r\n        : p\r\n    ));\r\n  };\r\n\r\n  // Calcular totales\r\n  const calcularSubtotal = () => {\r\n    return productosSeleccionados.reduce((total, p) => total + p.subtotalProducto, 0);\r\n  };\r\n\r\n  const calcularIGV = () => {\r\n    return calcularSubtotal() * 0.18;\r\n  };\r\n\r\n  const calcularTotal = () => {\r\n    return calcularSubtotal() + calcularIGV();\r\n  };\r\n\r\n  // Generar factura\r\n  const generarFactura = async () => {\r\n    // Validar que haya cliente o empresa\r\n    if (!clienteSeleccionado && !empresaSeleccionada) {\r\n      alert(\"Debe seleccionar un cliente o empresa\");\r\n      return;\r\n    }\r\n\r\n    if (productosSeleccionados.length === 0) {\r\n      alert(\"Debe agregar al menos un producto\");\r\n      return;\r\n    }\r\n\r\n    // Obtener tipo de cambio si es necesario\r\n    let cambio = 1;\r\n    if (moneda === \"USD\") {\r\n      cambio = await obtenerTipoCambio();\r\n    }\r\n\r\n    const subtotalMoneda = calcularSubtotal();\r\n    const subtotalSoles = moneda === \"USD\" ? subtotalMoneda * cambio : subtotalMoneda;\r\n    const igvSoles = subtotalSoles * 0.18;\r\n    const totalSoles = subtotalSoles + igvSoles;\r\n\r\n    const nuevaFactura = {\r\n      id: Date.now(),\r\n      fecha: new Date().toLocaleString(),\r\n      cliente: clienteSeleccionado || {\r\n        ruc: empresaSeleccionada?.ruc,\r\n        nombreCompleto: empresaSeleccionada?.razonSocial,\r\n        tipo: \"empresa\"\r\n      },\r\n      empresa: empresaSeleccionada?.razonSocial || null,\r\n      productos: productosSeleccionados,\r\n      subtotal: subtotalSoles.toFixed(2),\r\n      igv: igvSoles.toFixed(2),\r\n      total: totalSoles.toFixed(2),\r\n      metodoPago: metodoPago,\r\n      monedaOriginal: moneda,\r\n      tipoCambio: moneda === \"USD\" ? cambio.toFixed(2) : null,\r\n      moneda: moneda\r\n    };\r\n\r\n    agregarFactura(nuevaFactura);\r\n    alert(\"¬°Factura generada exitosamente!\");\r\n    \r\n    // Limpiar formulario\r\n    limpiarFormulario();\r\n  };\r\n\r\n  const limpiarFormulario = () => {\r\n    setTipoCliente(\"persona\");\r\n    setDni(\"\");\r\n    setRuc(\"\");\r\n    setClienteSeleccionado(null);\r\n    setEmpresaSeleccionada(null);\r\n    setCodigoProducto(\"\");\r\n    setCantidadProducto(1);\r\n    setProductosSeleccionados([]);\r\n    setMetodoPago(\"efectivo\");\r\n    setMoneda(\"PEN\");\r\n    setTipoCambio(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ventas-container\">\r\n      <h2>üìù Registrar Venta</h2>\r\n\r\n      {/* Secci√≥n 1: Seleccionar tipo y buscar Cliente/Empresa */}\r\n      <div className=\"seccion-venta\">\r\n        <h3>üîç Buscar Cliente o Empresa</h3>\r\n        \r\n        {/* Radio buttons para seleccionar tipo */}\r\n        <div className=\"tipo-cliente-selector\">\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              value=\"persona\"\r\n              checked={tipoCliente === \"persona\"}\r\n              onChange={(e) => {\r\n                setTipoCliente(e.target.value);\r\n                setEmpresaSeleccionada(null);\r\n                setClienteSeleccionado(null);\r\n                setRuc(\"\");\r\n                setDni(\"\");\r\n              }}\r\n            />\r\n            üë§ Persona Natural (DNI)\r\n          </label>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              value=\"empresa\"\r\n              checked={tipoCliente === \"empresa\"}\r\n              onChange={(e) => {\r\n                setTipoCliente(e.target.value);\r\n                setEmpresaSeleccionada(null);\r\n                setClienteSeleccionado(null);\r\n                setRuc(\"\");\r\n                setDni(\"\");\r\n              }}\r\n            />\r\n            üè¢ Empresa (RUC)\r\n          </label>\r\n        </div>\r\n\r\n        {/* Buscar Persona */}\r\n        {tipoCliente === \"persona\" && (\r\n          <div className=\"form-group-inline\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"DNI, nombre o apellido del cliente\"\r\n              value={dni}\r\n              onChange={(e) => setDni(e.target.value)}\r\n            />\r\n            <button onClick={buscarCliente} className=\"btn-buscar\" disabled={loadingCliente}>\r\n              {loadingCliente ? \"Buscando...\" : \"üîç Buscar\"}\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Buscar Empresa */}\r\n        {tipoCliente === \"empresa\" && (\r\n          <div className=\"form-group-inline\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Ingrese RUC (11 d√≠gitos)\"\r\n              value={ruc}\r\n              onChange={(e) => setRuc(e.target.value.replace(/\\D/g, '').slice(0, 11))}\r\n              maxLength=\"11\"\r\n            />\r\n            <button onClick={buscarEmpresa} className=\"btn-buscar\" disabled={loadingEmpresa}>\r\n              {loadingEmpresa ? \"Buscando...\" : \"üîç Buscar\"}\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Mostrar cliente seleccionado */}\r\n        {clienteSeleccionado && (\r\n          <div className=\"cliente-seleccionado\">\r\n            <p><strong>Cliente:</strong> {clienteSeleccionado.nombreCompleto || `${clienteSeleccionado.nombres} ${clienteSeleccionado.apellidoPaterno}`}</p>\r\n            <p><strong>DNI:</strong> {clienteSeleccionado.dni}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Mostrar empresa seleccionada */}\r\n        {empresaSeleccionada && (\r\n          <div className=\"cliente-seleccionado\">\r\n            <p><strong>Empresa:</strong> {empresaSeleccionada.razonSocial}</p>\r\n            <p><strong>RUC:</strong> {empresaSeleccionada.ruc}</p>\r\n            {empresaSeleccionada.direccion && <p><strong>Direcci√≥n:</strong> {empresaSeleccionada.direccion}</p>}\r\n            {empresaSeleccionada.estado && <p><strong>Estado:</strong> {empresaSeleccionada.estado}</p>}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Secci√≥n 2: Buscar y Agregar Producto */}\r\n      <div className=\"seccion-venta\">\r\n        <h3>üîç Buscar Producto</h3>\r\n        <div className=\"form-group-inline\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"C√≥digo o nombre del producto\"\r\n            value={codigoProducto}\r\n            onChange={(e) => setCodigoProducto(e.target.value)}\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Cantidad\"\r\n            value={cantidadProducto}\r\n            onChange={(e) => setCantidadProducto(e.target.value)}\r\n            min=\"1\"\r\n            className=\"input-cantidad\"\r\n          />\r\n          <button onClick={agregarProducto} className=\"btn-agregar\">\r\n            ‚ûï Agregar\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Secci√≥n 3: Tabla de Productos */}\r\n      {productosSeleccionados.length > 0 && (\r\n        <div className=\"seccion-venta\">\r\n          <h3>üõí Productos Seleccionados</h3>\r\n          <table className=\"tabla-productos-venta\">\r\n            <thead>\r\n              <tr>\r\n                <th>C√≥digo</th>\r\n                <th>Producto</th>\r\n                <th>Precio Unit.</th>\r\n                <th>Cantidad</th>\r\n                <th>Subtotal</th>\r\n                <th>Acci√≥n</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {productosSeleccionados.map((producto) => (\r\n                <tr key={producto.id}>\r\n                  <td>{producto.id}</td>\r\n                  <td>{producto.nombre}</td>\r\n                  <td>S/ {producto.precio.toFixed(2)}</td>\r\n                  <td>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={producto.cantidadVendida}\r\n                      onChange={(e) => actualizarCantidad(producto.id, e.target.value)}\r\n                      min=\"1\"\r\n                      className=\"input-cantidad-tabla\"\r\n                    />\r\n                  </td>\r\n                  <td>S/ {producto.subtotalProducto.toFixed(2)}</td>\r\n                  <td>\r\n                    <button \r\n                      onClick={() => eliminarProducto(producto.id)} \r\n                      className=\"btn-eliminar\"\r\n                    >\r\n                      üóëÔ∏è\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Secci√≥n 4: Totales y M√©todo de Pago */}\r\n      {productosSeleccionados.length > 0 && (\r\n        <div className=\"seccion-venta\">\r\n          <div className=\"totales-container\">\r\n            <div className=\"totales\">\r\n              <div className=\"fila-total\">\r\n                <span>Subtotal:</span>\r\n                <span>S/ {calcularSubtotal().toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"fila-total\">\r\n                <span>IGV (18%):</span>\r\n                <span>S/ {calcularIGV().toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"fila-total total-final\">\r\n                <span>TOTAL:</span>\r\n                <span>S/ {calcularTotal().toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"metodo-pago\">\r\n              <h4>üí≥ M√©todo de Pago</h4>\r\n              <div className=\"opciones-pago\">\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"efectivo\"\r\n                    checked={metodoPago === \"efectivo\"}\r\n                    onChange={(e) => setMetodoPago(e.target.value)}\r\n                  />\r\n                  üíµ Efectivo\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"tarjeta\"\r\n                    checked={metodoPago === \"tarjeta\"}\r\n                    onChange={(e) => setMetodoPago(e.target.value)}\r\n                  />\r\n                  üí≥ Tarjeta\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"opciones-moneda\">\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"PEN\"\r\n                    checked={moneda === \"PEN\"}\r\n                    onChange={(e) => {\r\n                      setMoneda(e.target.value);\r\n                      setTipoCambio(null);\r\n                    }}\r\n                  />\r\n                  üáµüá™ Soles (PEN)\r\n                </label>\r\n                <label>\r\n                  <input\r\n                    type=\"radio\"\r\n                    value=\"USD\"\r\n                    checked={moneda === \"USD\"}\r\n                    onChange={(e) => {\r\n                      setMoneda(e.target.value);\r\n                      obtenerTipoCambio();\r\n                    }}\r\n                  />\r\n                  üíµ D√≥lares (USD)\r\n                </label>\r\n              </div>\r\n\r\n              {moneda === \"USD\" && tipoCambio && (\r\n                <div className=\"tipo-cambio-info\">\r\n                  <p><strong>‚ö†Ô∏è Tipo de cambio:</strong> $1 USD = S/ {tipoCambio.toFixed(2)} PEN</p>\r\n                  <p><em>Los totales se mostrar√°n en Soles (requerimiento SUNAT)</em></p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <button onClick={generarFactura} className=\"btn-generar-factura\">\r\n            ‚úÖ Generar Factura\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VentasForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}