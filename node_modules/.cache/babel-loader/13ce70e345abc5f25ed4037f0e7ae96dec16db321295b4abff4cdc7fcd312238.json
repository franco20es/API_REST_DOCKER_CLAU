{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from 'axios';\nexport const useClientes = () => {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const buscarClientePorDNI = async dni => {\n    if (!dni || dni.length !== 8) {\n      throw new Error('DNI debe tener 8 dígitos');\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      // API de RENIEC (usando PeruDevs)\n      const token = 'cGVydWRldnMucHJvZHVjdGlvbi5maXRjb2RlcnMuNjhmMTkzNTcyZGZhMTIyNjA3ZTgzZTk5';\n      const url = `https://api.perudevs.com/api/v1/dni/simple?document=${dni}&key=${token}`;\n      const response = await axios.get(url);\n      const data = response.data.resultado || response.data.data || response.data;\n      setLoading(false);\n      return {\n        dni: data.numero || dni,\n        nombres: data.nombres,\n        apellidoPaterno: data.apellido_paterno || data.apellidoPaterno,\n        apellidoMaterno: data.apellido_materno || data.apellidoMaterno,\n        nombreCompleto: `${data.nombres} ${data.apellido_paterno || data.apellidoPaterno} ${data.apellido_materno || data.apellidoMaterno}`\n      };\n    } catch (err) {\n      setLoading(false);\n      setError('No se pudo consultar el DNI');\n      throw err;\n    }\n  };\n  const buscarEmpresaPorRUC = async ruc => {\n    if (!ruc || ruc.length !== 11) {\n      throw new Error('RUC debe tener 11 dígitos');\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      // API de SUNAT (usando PeruDevs)\n      const token = 'cGVydWRldnMucHJvZHVjdGlvbi5maXRjb2RlcnMuNjhmMTkzNTcyZGZhMTIyNjA3ZTgzZTk5';\n      const url = `https://api.perudevs.com/api/v1/ruc/simple?document=${ruc}&key=${token}`;\n      const response = await axios.get(url);\n      const data = response.data.resultado || response.data.data || response.data;\n      setLoading(false);\n      return {\n        ruc: data.ruc || ruc,\n        razonSocial: data.razon_social || data.razonSocial || data.nombre_o_razon_social,\n        direccion: data.direccion || data.direccion_completa,\n        estado: data.estado || data.estado_contribuyente,\n        condicion: data.condicion || data.condicion_domicilio\n      };\n    } catch (err) {\n      setLoading(false);\n      setError('No se pudo consultar el RUC');\n      throw err;\n    }\n  };\n  return {\n    loading,\n    error,\n    buscarClientePorDNI,\n    buscarEmpresaPorRUC\n  };\n};\n_s(useClientes, \"Iz3ozxQ+abMaAIcGIvU8cKUcBeo=\");","map":{"version":3,"names":["useState","axios","useClientes","_s","loading","setLoading","error","setError","buscarClientePorDNI","dni","length","Error","token","url","response","get","data","resultado","numero","nombres","apellidoPaterno","apellido_paterno","apellidoMaterno","apellido_materno","nombreCompleto","err","buscarEmpresaPorRUC","ruc","razonSocial","razon_social","nombre_o_razon_social","direccion","direccion_completa","estado","estado_contribuyente","condicion","condicion_domicilio"],"sources":["C:/Users/user/Desktop/PROYECTO-DE-JS-PARCTICA-3/sistema-facturacion/src/hooks/useClientes.js"],"sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport const useClientes = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const buscarClientePorDNI = async (dni) => {\r\n    if (!dni || dni.length !== 8) {\r\n      throw new Error('DNI debe tener 8 dígitos');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // API de RENIEC (usando PeruDevs)\r\n      const token = 'cGVydWRldnMucHJvZHVjdGlvbi5maXRjb2RlcnMuNjhmMTkzNTcyZGZhMTIyNjA3ZTgzZTk5';\r\n      const url = `https://api.perudevs.com/api/v1/dni/simple?document=${dni}&key=${token}`;\r\n      \r\n      const response = await axios.get(url);\r\n      const data = response.data.resultado || response.data.data || response.data;\r\n      \r\n      setLoading(false);\r\n      \r\n      return {\r\n        dni: data.numero || dni,\r\n        nombres: data.nombres,\r\n        apellidoPaterno: data.apellido_paterno || data.apellidoPaterno,\r\n        apellidoMaterno: data.apellido_materno || data.apellidoMaterno,\r\n        nombreCompleto: `${data.nombres} ${data.apellido_paterno || data.apellidoPaterno} ${data.apellido_materno || data.apellidoMaterno}`\r\n      };\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('No se pudo consultar el DNI');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const buscarEmpresaPorRUC = async (ruc) => {\r\n    if (!ruc || ruc.length !== 11) {\r\n      throw new Error('RUC debe tener 11 dígitos');\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // API de SUNAT (usando PeruDevs)\r\n      const token = 'cGVydWRldnMucHJvZHVjdGlvbi5maXRjb2RlcnMuNjhmMTkzNTcyZGZhMTIyNjA3ZTgzZTk5';\r\n      const url = `https://api.perudevs.com/api/v1/ruc/simple?document=${ruc}&key=${token}`;\r\n      \r\n      const response = await axios.get(url);\r\n      const data = response.data.resultado || response.data.data || response.data;\r\n      \r\n      setLoading(false);\r\n      \r\n      return {\r\n        ruc: data.ruc || ruc,\r\n        razonSocial: data.razon_social || data.razonSocial || data.nombre_o_razon_social,\r\n        direccion: data.direccion || data.direccion_completa,\r\n        estado: data.estado || data.estado_contribuyente,\r\n        condicion: data.condicion || data.condicion_domicilio\r\n      };\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError('No se pudo consultar el RUC');\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    buscarClientePorDNI,\r\n    buscarEmpresaPorRUC\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}